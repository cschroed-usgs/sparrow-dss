#These queries are based on this table schema:
#CREATE TABLE GENERIC_CACHE (
#	KEY decimal(9) NOT NULL,
#	VALUE_CLASS varchar2(100) NOT NULL,
#	VALUE blob,
#	LAST_TOUCHED timestamp NOT NULL
#);
#CREATE UNIQUE INDEX GENERIC_CACHE_UK ON GENERIC_CACHE(VALUE_CLASS, KEY);
#CREATE INDEX GENERIC_CACHE_LAST_TOUCHED ON GENERIC_CACHE(LAST_TOUCHED);


Insert = \
INSERT INTO SPARROW_DSS.GENERIC_CACHE ( \
	KEY, \
	VALUE_CLASS, \
	VALUE, \
	LAST_TOUCHED) \
VALUES ( \
	$KEY$, \
	$VALUE_CLASS$, \
	$VALUE$, \
	$LAST_TOUCHED$)

Touch = \
UPDATE SPARROW_DSS.GENERIC_CACHE \
SET LAST_TOUCHED = $LAST_TOUCHED$ \
WHERE KEY = $KEY$ AND VALUE_CLASS = $VALUE_CLASS$
	
SelectOne = \
SELECT \
	KEY, \
	VALUE_CLASS, \
	VALUE, \
	LAST_TOUCHED \
FROM SPARROW_DSS.GENERIC_CACHE \
WHERE KEY = $KEY$ AND VALUE_CLASS = $VALUE_CLASS$


SelectSinceTime = \
SELECT \
	KEY, \
	VALUE_CLASS, \
	VALUE, \
	LAST_TOUCHED \
FROM SPARROW_DSS.GENERIC_CACHE \
WHERE LAST_TOUCHED > $LAST_TOUCHED$ AND VALUE_CLASS = $VALUE_CLASS$
